{"version":3,"sources":["LinearGradient.js"],"names":["define","langx","Color","gradients","Gradient","GradientPoint","GradientStop","LinearGradient","inherit","klassName","angle","get","this","_","toString","props","type","webkitGradType","stops","webKitPosn1","startPoint","webKitPosn2","endPoint","push","color","toCss","fromColor","i","length","stop","pos","offset","toColor","CssUtils","buildBackgroundImage","_construct","params","addColorStop","fromString","s","p","parseBackgroundImage","slice","map","item"],"mappings":";;;;;;;AAAAA,QACC,sBACA,gCACA,cACA,aACA,kBACA,kBACC,SAASC,EAAMC,EAAMC,EAAUC,EAASC,EAAcC,GAEvD,IAAIC,EAAiBH,EAASI,SAC7BC,UAAc,iBAEdC,OACCC,IAAM,WACL,OAAOC,KAAKC,EAAEH,QAIhBI,SAAa,WACZ,IAAIC,GACHC,KAAO,SACPC,eAAiB,SACjBC,SACAC,YAAcP,KAAKQ,WAAWN,WAC9BO,YAAcT,KAAKU,SAASR,YAG7BC,EAAMG,MAAMK,MACXC,MAAQtB,EAAMuB,MAAMb,KAAKc,aAI1B,IADA,IAAIR,EAAQN,KAAKM,MACRS,EAAE,EAAEA,EAAET,EAAMU,OAAOD,IAAI,CAC/B,IAAIE,EAAOX,EAAMS,GACjBZ,EAAMG,MAAMK,MACXO,IAAMD,EAAKE,OAAOjB,WAClBU,MAAOK,EAAKL,MAAMV,aASpB,OAJAC,EAAMG,MAAMK,MACXC,MAAQZ,KAAKoB,QAAQlB,aAGfmB,SAASC,qBAAqBnB,GAAO,IAG7CoB,WAAe,SAASC,GASvB,GARAxB,KAAKC,GACJO,WAAcgB,EAAOhB,WACrBE,SAAac,EAAOd,SACpBI,UAAcU,EAAOV,UACrBM,QAAYI,EAAOJ,QACnBtB,MAAa0B,EAAO1B,OAGjB0B,EAAOlB,MAEV,IADA,IAAIA,EAAQkB,EAAOlB,MACVS,EAAI,EAAEA,EAAET,EAAMU,OAAOD,IAAK,CAClC,IAAIE,EAAOX,EAAMS,GACjBf,KAAKyB,aAAaR,EAAKE,OAAOF,EAAKL,WA4BvC,OArBAjB,EAAe+B,WAAa,SAASC,GACpC,IAAIC,EAAIP,SAASQ,qBAAqBF,GACtC,MAAc,UAAVC,EAAExB,KACE,IAAIT,GACVa,WAAaoB,EAAErB,YACfG,SAAakB,EAAEnB,YACfK,UAAac,EAAEtB,MAAM,GAAGM,MACxBQ,QAAaQ,EAAEtB,MAAMsB,EAAEtB,MAAMU,OAAO,GAAGJ,MACvCN,MAAasB,EAAEtB,MAAMwB,MAAM,EAAEF,EAAEtB,MAAMU,OAAO,GAAGe,IAAI,SAASC,GAC3D,OACCb,OAASa,EAAKd,IACdN,MAAQoB,EAAKpB,WAMT,MAIFrB,EAAUI,eAAiBA","file":"../LinearGradient.js","sourcesContent":["define([\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-graphics-colors/Color\",\r\n\t\"./gradients\",\r\n\t\"./Gradient\",\r\n\t\"./GradientPoint\",\r\n\t\"./GradientStop\"\r\n],function(langx,Color,gradients,Gradient,GradientPoint,GradientStop) {\r\n\t\r\n\tvar LinearGradient = Gradient.inherit({\r\n\t\t\"klassName\"\t:\t\"LinearGradient\",\r\n\r\n\t\t\"angle\" : {\r\n\t\t\tget : function() {\r\n\t\t\t\treturn this._.angle;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t\"toString\" : function() {\r\n\t\t\tvar props = {\r\n\t\t\t\ttype : \"linear\",\r\n\t\t\t\twebkitGradType : \"linear\",\r\n\t\t\t\tstops : [],\r\n\t\t\t\twebKitPosn1 : this.startPoint.toString(),\r\n\t\t\t\twebKitPosn2 : this.endPoint.toString(),\r\n\t\t\t};\r\n\r\n\t\t\tprops.stops.push({\r\n\t\t\t\tcolor : Color.toCss(this.fromColor)\r\n\t\t\t});\r\n\r\n\t\t\tvar stops = this.stops;\r\n\t\t\tfor (var i=0;i<stops.length;i++){\r\n\t\t\t\tvar stop = stops[i];\r\n\t\t\t\tprops.stops.push({\r\n\t\t\t\t\tpos : stop.offset.toString(),\r\n\t\t\t\t\tcolor :stop.color.toString()\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t\tprops.stops.push({\r\n\t\t\t\tcolor : this.toColor.toString()\r\n\t\t\t});\r\n\r\n\t\t\treturn CssUtils.buildBackgroundImage(props)[0];\r\n\t\t},\r\n\t\t\r\n\t\t\"_construct\"\t:\tfunction(params) {\r\n\t\t\tthis._ = {\r\n\t\t\t\t\"startPoint\":\tparams.startPoint,\r\n\t\t\t\t\"endPoint\"\t:\tparams.endPoint,\r\n\t\t\t\t\"fromColor\"\t:\tparams.fromColor,\r\n\t\t\t\t\"toColor\"\t:\tparams.toColor,\r\n\t\t\t\t\"angle\"\t\t:   params.angle\r\n\t\t\t};\r\n\r\n\t\t\tif (params.stops) {\r\n\t\t\t\tvar stops = params.stops;\r\n\t\t\t\tfor (var i = 0;i<stops.length;i++) {\r\n\t\t\t\t\tvar stop = stops[i];\r\n\t\t\t\t\tthis.addColorStop(stop.offset,stop.color);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tLinearGradient.fromString = function(s) {\r\n\t\tvar p = CssUtils.parseBackgroundImage(s);\r\n\t\tif (p.type == \"linear\" ) {\r\n\t\t\treturn new LinearGradient({\r\n\t\t\t\tstartPoint : p.webKitPosn1,\r\n\t\t\t\tendPoint   : p.webKitPosn2,\r\n\t\t\t\tfromColor  : p.stops[0].color,\r\n\t\t\t\ttoColor    : p.stops[p.stops.length-1].color,\r\n\t\t\t\tstops      : p.stops.slice(1,p.stops.length-1).map(function(item){\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\toffset : item.pos,\r\n\t\t\t\t\t\tcolor : item.color\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\r\n\treturn gradients.LinearGradient = LinearGradient;\r\n\t\r\n});\t\r\n"]}